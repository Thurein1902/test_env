<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Increase FX - Counter Trade Analysis</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', 'Noto Sans JP', 'system-ui', '-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
            color: #1a1a1a;
            line-height: 1.6;
            letter-spacing: -0.01em;
            font-size: 1.09rem;
            text-rendering: optimizeLegibility;
            font-smooth: always;
            -webkit-font-smoothing: antialiased;
            background: #fcfcfd;
        }

        .nav {
            position: fixed;
            top: 0;
            width: 100%;
            backdrop-filter: blur(20px);
            background: rgba(255, 255, 255, 0.85);
            border-bottom: 1px solid rgba(0, 0, 0, 0.08);
            z-index: 1000;
            padding: 16px 0;
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 24px;
        }
        
        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            letter-spacing: -0.05em;
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #007AFF, #34C759);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            cursor: pointer;
        }
        
        .nav-links {
            display: flex;
            gap: 40px;
            list-style: none;
        }

        .nav-links a {
            font-weight: 500;
            font-size: 1rem;
            letter-spacing: 0.01em;
            color: #272829;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .nav-links a:hover {
            color: #007AFF;
        }

        .hero {
            padding: 180px 24px 120px;
            text-align: center;
            background: linear-gradient(180deg, #ffffff 0%, #fcfcfd 100%);
        }

        .hero h1 {
            font-size: 4.5rem;
            font-weight: 800;
            line-height: 1.15;
            letter-spacing: -0.05em;
            color: #272829;
            margin-bottom: 0px;
        }

        .hero p {
            font-size: 1.5rem;
            font-weight: 400;
            color: #6e6e6e;
            line-height: 1.7;
            letter-spacing: 0.01em;
            max-width: 700px;
            margin: 0 auto 48px;
        }
        
        .section {
            padding: 120px 24px;
            max-width: 1200px;
            margin: 0 auto;
            background: #fff;
        }
        
        .section-title {
            font-size: 2.5rem;
            font-weight: 700;
            line-height: 1.2;
            letter-spacing: -0.03em;
            color: #272829;
            text-align: center;
            margin-bottom: 12px;
        }
        
        .summary-box {
            background: #fcfcfd;
            border: 1px solid rgba(0, 0, 0, 0.05);
            border-radius: 12px;
            padding: 24px;
            text-align: center;
            margin: 0 auto 64px;
            max-width: 600px;
        }
        
        .summary-box h3 {
            font-size: 1.8rem;
            font-weight: 600;
            color: #1a1a1a;
            margin-bottom: 24px;
            letter-spacing: 0.02em;
        }
        
        .summary-box p {
            font-size: 2.5rem;
            font-weight: 500;
            color: #333333;
            margin-bottom: 16px;
            letter-spacing: 0.01em;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
        }

        .summary-box .summary-pair {
            font-size: 2.5rem;
            font-weight: 500;
            color: #333333;
        }

        .summary-box .summary-entry {
            font-size: 2.5rem;
            font-weight: 700;
            letter-spacing: 0.05em;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .summary-box .summary-entry.up,
        .summary-box .summary-entry.down {
            background-image: linear-gradient(90deg, #007AFF, #34C759);
        }

        .summary-box .summary-entry.buy {
            background-image: linear-gradient(90deg, #34C759, #007AFF);
        }

        .summary-box .summary-entry.sell {
            background-image: linear-gradient(90deg, #FF3B30, #FF6B35);
        }

        .summary-box .summary-entry.neutral {
            background: none;
            -webkit-text-fill-color: #6e6e6e;
            color: #6e6e6e;
        }
        
        .summary-box .time-stamp {
            font-size: 1rem;
            color: #999;
            margin-top: 24px;
        }

        .section-subtitle {
            font-size: 1.15rem;
            font-weight: 400;
            color: #6e6e6e;
            line-height: 1.8;
            letter-spacing: 0.01em;
            text-align: center;
            margin-bottom: 72px;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        .pair-toggle-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 40px;
            margin-bottom: 40px;
        }

        .pair-toggle-btn {
            background: #fff;
            color: #6e6e6e;
            font-size: 1.2rem;
            font-weight: 500;
            padding: 12px 24px;
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .pair-toggle-btn:hover {
            color: #007AFF;
            border-color: #007AFF;
        }

        .pair-toggle-btn.active {
            background: linear-gradient(90deg, #007AFF, #34C759);
            color: #fff;
            border-color: transparent;
            box-shadow: 0 4px 10px rgba(0, 122, 255, 0.2);
        }

        .card {
            background: #fcfcfd;
            border: 1px solid rgba(0, 0, 0, 0.05);
            border-radius: 20px;
            padding: 32px;
            backdrop-filter: blur(20px);
            transition: all 0.3s ease;
            box-shadow: 0 4px 24px rgba(0, 0, 0, 0.03);
        }

        .card:hover {
            transform: translateY(-8px);
            border-color: rgba(0, 122, 255, 0.2);
            box-shadow: 0 16px 40px rgba(0, 0, 0, 0.08);
        }

        .table-container {
            overflow-x: auto;
            border-radius: 20px;
            background: #fcfcfd;
            border: 1px solid rgba(0, 0, 0, 0.05);
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 1rem;
            background: #fcfcfd;
        }
        
        .data-table th {
            background: #fafafc;
            padding: 18px 16px;
            text-align: center;
            font-weight: 500;
            border-bottom: 1px solid rgba(0, 0, 0, 0.08);
            color: #888888;
            font-size: 0.95rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .data-table td {
            padding: 18px 16px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            background: #fcfcfd;
            color: #666666;
            font-size: 1rem;
            text-align: center;
            font-weight: 400;
            letter-spacing: 0.01em;
            cursor: pointer;
        }

        .data-table tr:last-child td {
            border-bottom: none;
        }

        .data-table tr:hover {
            background: #f9f9fb;
        }

        .pair-name {
            font-weight: 600;
            color: #1a1a1a !important;
            font-size: 1.05rem !important;
        }

        .highlight-top3 {
            font-weight: 700 !important;
            font-size: 1.1rem !important;
            color: #34C759 !important;
        }

        .highlight-extreme-ranking {
            font-weight: 700 !important;
            font-size: 1.1rem !important;
            color: #007AFF !important;
        }

        .highlight-rsi-extreme {
            font-weight: 700 !important;
            font-size: 1.1rem !important;
            color: #007AFF !important;
        }

        .entry-normal {
            color: #888888;
            font-weight: 400;
            padding: 8px 16px;
            font-size: 0.95rem;
            letter-spacing: 0.02em;
        }
        
        .entry-stay {
            color: #6e6e6e;
            font-weight: 400;
            padding: 8px 16px;
            border-radius: 12px;
            background: rgba(110, 110, 110, 0.1);
            font-size: 0.95rem;
            letter-spacing: 0.02em;
        }

        .entry-buy {
            background: rgba(52, 199, 89, 0.15);
            color: #34C759;
            font-weight: 600;
            padding: 8px 16px;
            border-radius: 12px;
            font-size: 0.95rem;
            letter-spacing: 0.02em;
        }

        .entry-sell {
            background: rgba(255, 59, 48, 0.15);
            color: #FF3B30;
            font-weight: 600;
            padding: 8px 16px;
            border-radius: 12px;
            font-size: 0.95rem;
            letter-spacing: 0.02em;
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 40px;
            margin-top: 80px;
        }

        .feature {
            text-align: left;
            background: #fcfcfd;
            border: 1px solid rgba(0, 0, 0, 0.05);
            border-radius: 20px;
            padding: 40px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 24px rgba(0, 0, 0, 0.03);
        }

        .feature:hover {
            transform: translateY(-8px);
            box-shadow: 0 16px 40px rgba(0, 0, 0, 0.08);
        }

        .feature h3 {
            font-size: 1.5rem;
            font-weight: 600;
            color: #1a1a1a;
            margin: 0 0 16px 0;
            text-align: center;
            letter-spacing: -0.01em;
        }

        .feature p {
            font-size: 1rem;
            font-weight: 400;
            color: #6e6e6e;
            line-height: 1.7;
            letter-spacing: 0.01em;
            margin: 0;
        }

        .footer {
            background: #fafafc;
            padding: 60px 24px;
            text-align: center;
            border-top: 1px solid rgba(0, 0, 0, 0.08);
        }

        .footer p {
            color: #aaaaaa;
            font-size: 0.85rem;
            line-height: 1.6;
            letter-spacing: 0.02em;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin-bottom: 24px;
        }

        .footer-links a {
            color: #007AFF;
            text-decoration: none;
            font-weight: 500;
            font-size: 0.95rem;
            letter-spacing: 0.02em;
        }

        .footer-links a:hover {
            text-decoration: underline;
        }

        .page {
            display: none;
            min-height: 80vh;
        }

        .page.active {
            display: block;
        }

        .page h2 {
            font-size: 2.2rem;
            font-weight: 600;
            margin-bottom: 32px;
            background: linear-gradient(135deg, #1a1a1a 0%, #666666 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .page h3 {
            font-size: 1.5rem;
            font-weight: 500;
            margin: 32px 0 16px 0;
            color: #1a1a1a;
        }

        .page p {
            color: #666666;
            line-height: 1.8;
            margin-bottom: 16px;
            font-weight: 300;
        }

        @media (max-width: 768px) {
            .hero h1 {
                font-size: 3.2rem;
                line-height: 1.2;
            }

            .hero p {
                font-size: 1.1rem;
            }

            .nav-links {
                display: none;
            }

            .data-table {
                font-size: 13px;
            }

            .data-table td {
                font-size: 12px;
                padding: 12px 8px;
            }

            .data-table th {
                font-size: 12px;
                padding: 12px 8px;
            }

            .features {
                grid-template-columns: 1fr;
            }

            .footer-links {
                flex-direction: column;
                gap: 16px;
            }

            .section-title {
                font-size: 2rem;
            }

            .pair-toggle-container {
                flex-direction: column;
                align-items: center;
                gap: 8px;
            }

            .pair-toggle-btn {
                width: 100%;
                max-width: 300px;
                border-radius: 12px !important;
            }
        }

        .scroll-indicator {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, #007AFF, #34C759);
            transform-origin: left;
            transform: scaleX(0);
            z-index: 1001;
        }

        .loading {
            text-align: center;
            padding: 20px;
            color: #666;
        }

        .error {
            text-align: center;
            padding: 20px;
            color: #ff4444;
            background: #ffe6e6;
            border-radius: 8px;
            margin: 20px 0;
        }
        
        .trigger-on {
            background: #34C759;
            color: #ffffff;
            font-weight: 500;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            letter-spacing: 0.01em;
            display: inline-block;
            text-align: center;
            min-width: 50px;
            border: none;
            white-space: nowrap;
        }

        .trigger-off {
            background: #e5e5e7;
            color: #8e8e93;
            font-weight: 500;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            letter-spacing: 0.01em;
            display: inline-block;
            text-align: center;
            min-width: 50px;
            border: none;
            white-space: nowrap;
        }

                /* Update the existing .chart-thumbnail class */
        .chart-thumbnail {
            width: 60px;     /* Reduce from 80px to match your image */
            height: 45px;    /* Reduce from 60px to maintain aspect ratio */
            object-fit: cover;
            border-radius: 4px;
            border: 1px solid #ddd;  /* Reduce border from 2px to 1px */
            transition: all 0.3s ease;
            display: block;
            margin: 0 auto;
            cursor: pointer;
        }

        /* Update hover effect to be more subtle */
        .chart-thumbnail:hover {
            border-color: #007AFF;
            transform: scale(1.02);  /* Reduce from 1.05 to 1.02 */
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);  /* Reduce shadow */
        }

        /* Update table cell padding for time column */
        .data-table td:first-child {
            background-color: #f8f9fa;
            font-weight: bold;
            color: #333;
            width: 60px;     /* Reduce width */
            padding: 12px 8px;  /* Reduce padding */
            font-size: 0.9rem;  /* Slightly smaller font */
        }

        /* Update image cell padding */
        .data-table td:not(:first-child) {
            padding: 8px 4px;   /* Reduce padding around images */
        }

        /* Add modal improvements */
        .modal-content {
            margin: 3% auto;    /* Reduce top margin */
            display: block;
            max-width: 90%;     /* Slightly reduce max width */
            max-height: 85%;    /* Reduce max height */
            border-radius: 8px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.5);
            animation: zoomIn 0.3s ease;
        }

        /* Make close button more visible */
        .close {
            position: absolute;
            top: 10px;
            right: 25px;
            color: #fff;
            font-size: 35px;
            font-weight: bold;
            cursor: pointer;
            z-index: 1001;
            background: rgba(0,0,0,0.5);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            line-height: 1;
        }

        /* Add mobile responsiveness for thumbnails */
        @media (max-width: 768px) {
            .chart-thumbnail {
                width: 45px;
                height: 35px;
            }
            
            .data-table td:first-child {
                width: 45px;
                padding: 8px 4px;
                font-size: 0.8rem;
            }
            
            .data-table td:not(:first-child) {
                padding: 6px 2px;
            }
        }
    </style>
</head>
<body>
    <div class="scroll-indicator"></div>
    
    <nav class="nav">
        <div class="nav-container">
            <a href="#" onclick="showPage('home')" class="logo">Increase FX</a>
            <ul class="nav-links">
                <li><a href="#" onclick="showPage('home')">ホーム</a></li>
                <li><a href="#" onclick="showPage('results')">検証結果</a></li>
                <li><a href="#" onclick="showPage('company')">運営会社</a></li>
                <li><a href="#" onclick="showPage('disclaimer')">免責事項</a></li>
            </ul>
        </div>
    </nav>

    <div id="home" class="page active">
        <section class="hero">
            <h1>FX逆張り分析ツール</h1>
            <p>（参考データ）</p>
        </section>

        <section class="section" id="signals-section">
            <h2 class="section-title">注目の通貨ペア</h2>
            
            <div class="summary-box">
                <h3 id="summaryTitle">データ読み込み中...</h3>
                <p>
                    <span id="summaryPair" class="summary-pair"></span> 
                    <span id="summaryEntry" class="summary-entry"></span>
                </p>
                <p id="summaryTime" class="time-stamp"></p>
            </div>
            
            <p class="section-subtitle">このツールは、4時間足のRSI、CCI、BB%Bを分析し、通貨強弱を組み合わせた総合的なランキングを算出します。さらにRSIを加味して「期待度」を示しています。強弱の順位は「1」が最強通貨、「8」が最弱通貨です。例えば「USDJPYが1/8」の場合はUSDが最強・JPYが最弱となり、この分析結果では「下方向傾向（学習上の仮説例）」となります。「中立傾向」と表示される場合は方向性がないことを示します。これらのデータはあくまで学習・検証のための分析結果であり、投資の推薦や助言ではありません。ご自身の判断でご利用ください。</p>
            
            <div class="pair-toggle-container">
                <button class="pair-toggle-btn" id="btn-10pair" onclick="switchPairView('10pair')">10通貨ペア分析結果</button>
                <button class="pair-toggle-btn active" id="btn-28pair" onclick="switchPairView('28pair')">28通貨ペア分析結果</button>
            </div>
            
            <div class="card">
                <div id="loadingIndicator" class="loading">データを読み込んでいます...</div>
                <div id="errorIndicator" class="error" style="display: none;"></div>
                <div class="table-container" id="tableContainer" style="display: none;">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>通貨ペア</th>
                                <th>RSI(4H)</th>
                                <th>CCI強弱</th>
                                <th>BB%B強弱</th>
                                <th>RSI強弱</th>
                                <th>総合強弱</th>
                                <th>期待度</th>
                                <th>方向性指標（学習用）</th>
                                <th>トリガー</th>
                            </tr>
                        </thead>
                        <tbody id="dataTable">
                            </tbody>
                    </table>
                </div>
            </div>
        </section>

        <section class="section">
            <h2 class="section-title">分析データ活用術</h2>
            <p class="section-subtitle">この分析データは、FX学習者のための教材としてご活用いただけます。単一のツールに頼るのではなく、他のテクニカル分析と組み合わせることで、より深い相場理解につながります。</p>
            
            <div class="features">
                <div class="feature">
                    <h3>チャートパターンの確認</h3>
                    <p>※以下は学習・研究のための一般的手法の紹介であり、売買の推薦ではありません（参考データ）。</p>
                    <p>上方向シナリオ検討時はダブルボトム、下方向シナリオ検討時はダブルトップの有無など、チャート形状の整合を確認する手法があります。</p>
                    <p>分析データに形状の裏付けが重なると、多角的な見方につながる場合があります。</p>
                </div>
                <div class="feature">
                    <h3>反転兆候の確認</h3>
                    <p>※以下は学習・研究のための一般的手法の紹介であり、売買の推薦ではありません（参考データ）。</p>
                    <p>RSIが一時的に30未満・70超だった後、30以上・70以下へ復帰している方向性、移動平均の傾き鈍化が見られるかなど、反転を示唆するサインを材料として扱う例があります。</p>
                </div>
                <div class="feature">
                    <h3>分割配分の例</h3>
                    <p>※以下は学習・研究のための一般的手法の紹介であり、売買の推薦ではありません（参考データ）。</p>
                    <p>一度に全量ではなく、複数回に分けて配分する手法があります。価格変動の影響を平準化する狙いの例です。</p>
                </div>
            </div>
        </section>

        <section class="section">
            <h2 class="section-title">エグジット設計</h2>
            <p class="section-subtitle">エントリーポイントだけでなく、どこで取引を終えるか（エグジット）も重要な設計要素です。ここでは、分析結果を基にしたエグジットの考え方をご紹介します。</p>
            <div class="features">
                <div class="feature">
                    <h3>チャートの節目でのクローズ例</h3>
                    <p>※本ページは投資助言ではありません（参考データ）。</p>
                    <p>サポート・レジスタンス、直近高値・安値といった価格節目に達した際に、部分または全部をクローズする一般的な手法があります。</p>
                </div>
                <div class="feature">
                    <h3>直近の高値・安値を用いた損失限定の例</h3>
                    <p>※本ページは投資助言ではありません（参考データ）。</p>
                    <p>直近の高値・安値の外側に損失限定ラインを置く設計は、リスクを定量化する一般手法として知られています。</p>
                </div>
                <div class="feature">
                    <h3>ドローダウン時の対応</h3>
                    <p>※本ページは投資助言ではありません（参考データ）。</p>
                    <p>逆張り環境では、評価損が発生してから価格が復帰するケースもありますが、精神的負荷や資金管理上のリスクが大きくなり得ます。各自のリスク許容度に応じた慎重な判断が前提です。</p>
                </div>
            </div>
        </section>
    </div>

    <div id="company" class="page">
        <section class="section">
            <h2>運営会社</h2>
            <h3>会社概要</h3>
            <p>会社名: インクリーズ株式会社</p>
            <p>設立: 2022年12月2日</p>
            <p>資本金: 1,000,000円</p>
            <p>代表者: 中野由仁</p>
            <p>所在地: 大阪市中央区南新町１丁目２−３</p>
            <p>電話: 06-6940-0330</p>
        </section>
    </div>

    <div id="disclaimer" class="page">
        <section class="section">
            <h2>免責事項</h2>
            
            <h3>投資リスクについて</h3>
            <p>FX取引は高いリスクを伴う投資行為です。レバレッジ効果により、投資元本を上回る損失が発生する可能性があります。</p>
            
            <h3>情報の利用について</h3>
            <p>本サイトで提供される情報は、投資の参考情報として提供されており、投資の推薦や勧誘を目的としたものではありません。本サイトの内容は教育・研究用の参考データであり、実際の取引への直接利用は推薦いたしません。</p>
            
            <h3>投資判断の責任</h3>
            <p>すべての投資判断は、利用者ご自身の責任において行ってください。本サイトの情報を利用した結果生じるいかなる損失について、当サイトは一切の責任を負いません。</p>
            
            <h3>情報の正確性について</h3>
            <p>本サイトの情報は正確性を期しておりますが、完全性や適時性を保証するものではありません。表示されるデータは遅延や過去データを含む場合があり、リアルタイムの取引判断に利用できるものではありません。</p>
            
            <h3>第三者責任の否定</h3>
            <p>当サイトにリンクされた外部サービスや掲載データの出典についても、その正確性や完全性を保証するものではありません。</p>
            
            <h3>リスク管理の重要性</h3>
            <p>FX取引を行う際は、適切なリスク管理を行い、余裕資金の範囲内で取引を行うことを強く推薦します。</p>
        </section>
    </div>

    <div id="results" class="page">
        <section class="section">
            <h2>検証結果</h2>
            <p class="section-subtitle">10日分の検証結果です。エントリーしてから240時間分のチャートです。実際にエントリーしてから、どのように価格が推移したかをご確認いただけます。逆張りのトレードの有効性についてご参考ください。</p>
            <div class="card">
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th style="text-align: center;">エントリー</th>
                                <th style="text-align: center;">8月28日</th>
                                <th style="text-align: center;">8月29日</th>
                                <th style="text-align: center;">9月01日</th>
                                <th style="text-align: center;">9月02日</th>
                                <th style="text-align: center;">9月03日</th>
                                <th style="text-align: center;">9月04日</th>
                                <th style="text-align: center;">9月05日</th>
                                <th style="text-align: center;">9月08日</th>
                                <th style="text-align: center;">9月09日</th>
                                <th style="text-align: center;">9月10日</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>0:00</td>
                                <td onclick="showModal('images/[2025_08_28][0000].png')"><img src="images/[2025_08_28][0000].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_08_29][0000].png')"><img src="images/[2025_08_29][0000].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_01][0000].png')"><img src="images/[2025_09_01][0000].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_02][0000].png')"><img src="images/[2025_09_02][0000].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_03][0000].png')"><img src="images/[2025_09_03][0000].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_04][0000].png')"><img src="images/[2025_09_04][0000].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_05][0000].png')"><img src="images/[2025_09_05][0000].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_08][0000].png')"><img src="images/[2025_09_08][0000].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_09][0000].png')"><img src="images/[2025_09_09][0000].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_10][0000].png')"><img src="images/[2025_09_10][0000].png" alt="チャート画像" class="chart-thumbnail"></td>
                            </tr>
                            <tr>
                                <td>1:00</td>
                                <td onclick="showModal('images/[2025_08_28][0100].png')"><img src="images/[2025_08_28][0100].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_08_29][0100].png')"><img src="images/[2025_08_29][0100].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_01][0100].png')"><img src="images/[2025_09_01][0100].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_02][0100].png')"><img src="images/[2025_09_02][0100].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_03][0100].png')"><img src="images/[2025_09_03][0100].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_04][0100].png')"><img src="images/[2025_09_04][0100].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_05][0100].png')"><img src="images/[2025_09_05][0100].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_08][0100].png')"><img src="images/[2025_09_08][0100].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_09][0100].png')"><img src="images/[2025_09_09][0100].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_10][0100].png')"><img src="images/[2025_09_10][0100].png" alt="チャート画像" class="chart-thumbnail"></td>
                            </tr>
                            <tr>
                                <td>2:00</td>
                                <td onclick="showModal('images/[2025_08_28][0200].png')"><img src="images/[2025_08_28][0200].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_08_29][0200].png')"><img src="images/[2025_08_29][0200].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_01][0200].png')"><img src="images/[2025_09_01][0200].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_02][0200].png')"><img src="images/[2025_09_02][0200].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_03][0200].png')"><img src="images/[2025_09_03][0200].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_04][0200].png')"><img src="images/[2025_09_04][0200].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_05][0200].png')"><img src="images/[2025_09_05][0200].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_08][0200].png')"><img src="images/[2025_09_08][0200].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_09][0200].png')"><img src="images/[2025_09_09][0200].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_10][0200].png')"><img src="images/[2025_09_10][0200].png" alt="チャート画像" class="chart-thumbnail"></td>
                            </tr>
                            <tr>
                                <td>3:00</td>
                                <td onclick="showModal('images/[2025_08_28][0300].png')"><img src="images/[2025_08_28][0300].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_08_29][0300].png')"><img src="images/[2025_08_29][0300].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_01][0300].png')"><img src="images/[2025_09_01][0300].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_02][0300].png')"><img src="images/[2025_09_02][0300].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_03][0300].png')"><img src="images/[2025_09_03][0300].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_04][0300].png')"><img src="images/[2025_09_04][0300].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_05][0300].png')"><img src="images/[2025_09_05][0300].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_08][0300].png')"><img src="images/[2025_09_08][0300].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_09][0300].png')"><img src="images/[2025_09_09][0300].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_10][0300].png')"><img src="images/[2025_09_10][0300].png" alt="チャート画像" class="chart-thumbnail"></td>
                            </tr>
                            <tr>
                                <td>4:00</td>
                                <td onclick="showModal('images/[2025_08_28][0400].png')"><img src="images/[2025_08_28][0400].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_08_29][0400].png')"><img src="images/[2025_08_29][0400].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_01][0400].png')"><img src="images/[2025_09_01][0400].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_02][0400].png')"><img src="images/[2025_09_02][0400].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_03][0400].png')"><img src="images/[2025_09_03][0400].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_04][0400].png')"><img src="images/[2025_09_04][0400].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_05][0400].png')"><img src="images/[2025_09_05][0400].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_08][0400].png')"><img src="images/[2025_09_08][0400].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_09][0400].png')"><img src="images/[2025_09_09][0400].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_10][0400].png')"><img src="images/[2025_09_10][0400].png" alt="チャート画像" class="chart-thumbnail"></td>
                            </tr>
                            <tr>
                                <td>5:00</td>
                                <td onclick="showModal('images/[2025_08_28][0500].png')"><img src="images/[2025_08_28][0500].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_08_29][0500].png')"><img src="images/[2025_08_29][0500].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_01][0500].png')"><img src="images/[2025_09_01][0500].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_02][0500].png')"><img src="images/[2025_09_02][0500].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_03][0500].png')"><img src="images/[2025_09_03][0500].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_04][0500].png')"><img src="images/[2025_09_04][0500].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_05][0500].png')"><img src="images/[2025_09_05][0500].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_08][0500].png')"><img src="images/[2025_09_08][0500].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_09][0500].png')"><img src="images/[2025_09_09][0500].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_10][0500].png')"><img src="images/[2025_09_10][0500].png" alt="チャート画像" class="chart-thumbnail"></td>
                            </tr>
                            <tr>
                                <td>6:00</td>
                                <td onclick="showModal('images/[2025_08_28][0600].png')"><img src="images/[2025_08_28][0600].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_08_29][0600].png')"><img src="images/[2025_08_29][0600].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_01][0600].png')"><img src="images/[2025_09_01][0600].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_02][0600].png')"><img src="images/[2025_09_02][0600].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_03][0600].png')"><img src="images/[2025_09_03][0600].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_04][0600].png')"><img src="images/[2025_09_04][0600].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_05][0600].png')"><img src="images/[2025_09_05][0600].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_08][0600].png')"><img src="images/[2025_09_08][0600].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_09][0600].png')"><img src="images/[2025_09_09][0600].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_10][0600].png')"><img src="images/[2025_09_10][0600].png" alt="チャート画像" class="chart-thumbnail"></td>
                            </tr>
                            <tr>
                                <td>7:00</td>
                                <td onclick="showModal('images/[2025_08_28][0700].png')"><img src="images/[2025_08_28][0700].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_08_29][0700].png')"><img src="images/[2025_08_29][0700].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_01][0700].png')"><img src="images/[2025_09_01][0700].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_02][0700].png')"><img src="images/[2025_09_02][0700].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_03][0700].png')"><img src="images/[2025_09_03][0700].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_04][0700].png')"><img src="images/[2025_09_04][0700].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_05][0700].png')"><img src="images/[2025_09_05][0700].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_08][0700].png')"><img src="images/[2025_09_08][0700].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_09][0700].png')"><img src="images/[2025_09_09][0700].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_10][0700].png')"><img src="images/[2025_09_10][0700].png" alt="チャート画像" class="chart-thumbnail"></td>
                            </tr>
                            <tr>
                                <td>8:00</td>
                                <td onclick="showModal('images/[2025_08_28][0800].png')"><img src="images/[2025_08_28][0800].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_08_29][0800].png')"><img src="images/[2025_08_29][0800].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_01][0800].png')"><img src="images/[2025_09_01][0800].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_02][0800].png')"><img src="images/[2025_09_02][0800].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_03][0800].png')"><img src="images/[2025_09_03][0800].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_04][0800].png')"><img src="images/[2025_09_04][0800].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_05][0800].png')"><img src="images/[2025_09_05][0800].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_08][0800].png')"><img src="images/[2025_09_08][0800].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_09][0800].png')"><img src="images/[2025_09_09][0800].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_10][0800].png')"><img src="images/[2025_09_10][0800].png" alt="チャート画像" class="chart-thumbnail"></td>
                            </tr>
                            <tr>
                                <td>9:00</td>
                                <td onclick="showModal('images/[2025_08_28][0900].png')"><img src="images/[2025_08_28][0900].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_08_29][0900].png')"><img src="images/[2025_08_29][0900].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_01][0900].png')"><img src="images/[2025_09_01][0900].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_02][0900].png')"><img src="images/[2025_09_02][0900].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_03][0900].png')"><img src="images/[2025_09_03][0900].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_04][0900].png')"><img src="images/[2025_09_04][0900].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_05][0900].png')"><img src="images/[2025_09_05][0900].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_08][0900].png')"><img src="images/[2025_09_08][0900].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_09][0900].png')"><img src="images/[2025_09_09][0900].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_10][0900].png')"><img src="images/[2025_09_10][0900].png" alt="チャート画像" class="chart-thumbnail"></td>
                            </tr>
                            <tr>
                                <td>10:00</td>
                                <td onclick="showModal('images/[2025_08_28][1000].png')"><img src="images/[2025_08_28][1000].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_08_29][1000].png')"><img src="images/[2025_08_29][1000].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_01][1000].png')"><img src="images/[2025_09_01][1000].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_02][1000].png')"><img src="images/[2025_09_02][1000].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_03][1000].png')"><img src="images/[2025_09_03][1000].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_04][1000].png')"><img src="images/[2025_09_04][1000].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_05][1000].png')"><img src="images/[2025_09_05][1000].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_08][1000].png')"><img src="images/[2025_09_08][1000].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_09][1000].png')"><img src="images/[2025_09_09][1000].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_10][1000].png')"><img src="images/[2025_09_10][1000].png" alt="チャート画像" class="chart-thumbnail"></td>
                            </tr>
                            <tr>
                                <td>11:00</td>
                                <td onclick="showModal('images/[2025_08_28][1100].png')"><img src="images/[2025_08_28][1100].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_08_29][1100].png')"><img src="images/[2025_08_29][1100].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_01][1100].png')"><img src="images/[2025_09_01][1100].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_02][1100].png')"><img src="images/[2025_09_02][1100].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_03][1100].png')"><img src="images/[2025_09_03][1100].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_04][1100].png')"><img src="images/[2025_09_04][1100].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_05][1100].png')"><img src="images/[2025_09_05][1100].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_08][1100].png')"><img src="images/[2025_09_08][1100].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_09][1100].png')"><img src="images/[2025_09_09][1100].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_10][1100].png')"><img src="images/[2025_09_10][1100].png" alt="チャート画像" class="chart-thumbnail"></td>
                            </tr>
                            <tr>
                                <td>12:00</td>
                                <td onclick="showModal('images/[2025_08_28][1200].png')"><img src="images/[2025_08_28][1200].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_08_29][1200].png')"><img src="images/[2025_08_29][1200].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_01][1200].png')"><img src="images/[2025_09_01][1200].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_02][1200].png')"><img src="images/[2025_09_02][1200].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_03][1200].png')"><img src="images/[2025_09_03][1200].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_04][1200].png')"><img src="images/[2025_09_04][1200].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_05][1200].png')"><img src="images/[2025_09_05][1200].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_08][1200].png')"><img src="images/[2025_09_08][1200].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_09][1200].png')"><img src="images/[2025_09_09][1200].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_10][1200].png')"><img src="images/[2025_09_10][1200].png" alt="チャート画像" class="chart-thumbnail"></td>
                            </tr>
                            <tr>
                                <td>13:00</td>
                                <td onclick="showModal('images/[2025_08_28][1300].png')"><img src="images/[2025_08_28][1300].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_08_29][1300].png')"><img src="images/[2025_08_29][1300].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_01][1300].png')"><img src="images/[2025_09_01][1300].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_02][1300].png')"><img src="images/[2025_09_02][1300].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_03][1300].png')"><img src="images/[2025_09_03][1300].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_04][1300].png')"><img src="images/[2025_09_04][1300].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_05][1300].png')"><img src="images/[2025_09_05][1300].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_08][1300].png')"><img src="images/[2025_09_08][1300].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_09][1300].png')"><img src="images/[2025_09_09][1300].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_10][1300].png')"><img src="images/[2025_09_10][1300].png" alt="チャート画像" class="chart-thumbnail"></td>
                            </tr>
                            <tr>
                                <td>14:00</td>
                                <td onclick="showModal('images/[2025_08_28][1400].png')"><img src="images/[2025_08_28][1400].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_08_29][1400].png')"><img src="images/[2025_08_29][1400].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_01][1400].png')"><img src="images/[2025_09_01][1400].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_02][1400].png')"><img src="images/[2025_09_02][1400].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_03][1400].png')"><img src="images/[2025_09_03][1400].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_04][1400].png')"><img src="images/[2025_09_04][1400].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_05][1400].png')"><img src="images/[2025_09_05][1400].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_08][1400].png')"><img src="images/[2025_09_08][1400].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_09][1400].png')"><img src="images/[2025_09_09][1400].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_10][1400].png')"><img src="images/[2025_09_10][1400].png" alt="チャート画像" class="chart-thumbnail"></td>
                            </tr>
                            <tr>
                                <td>15:00</td>
                                <td onclick="showModal('images/[2025_08_28][1500].png')"><img src="images/[2025_08_28][1500].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_08_29][1500].png')"><img src="images/[2025_08_29][1500].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_01][1500].png')"><img src="images/[2025_09_01][1500].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_02][1500].png')"><img src="images/[2025_09_02][1500].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_03][1500].png')"><img src="images/[2025_09_03][1500].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_04][1500].png')"><img src="images/[2025_09_04][1500].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_05][1500].png')"><img src="images/[2025_09_05][1500].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_08][1500].png')"><img src="images/[2025_09_08][1500].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_09][1500].png')"><img src="images/[2025_09_09][1500].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_10][1500].png')"><img src="images/[2025_09_10][1500].png" alt="チャート画像" class="chart-thumbnail"></td>
                            </tr>
                            <tr>
                                <td>16:00</td>
                                <td onclick="showModal('images/[2025_08_28][1600].png')"><img src="images/[2025_08_28][1600].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_08_29][1600].png')"><img src="images/[2025_08_29][1600].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_01][1600].png')"><img src="images/[2025_09_01][1600].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_02][1600].png')"><img src="images/[2025_09_02][1600].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_03][1600].png')"><img src="images/[2025_09_03][1600].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_04][1600].png')"><img src="images/[2025_09_04][1600].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_05][1600].png')"><img src="images/[2025_09_05][1600].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_08][1600].png')"><img src="images/[2025_09_08][1600].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_09][1600].png')"><img src="images/[2025_09_09][1600].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_10][1600].png')"><img src="images/[2025_09_10][1600].png" alt="チャート画像" class="chart-thumbnail"></td>
                            </tr>
                            <tr>
                                <td>17:00</td>
                                <td onclick="showModal('images/[2025_08_28][1700].png')"><img src="images/[2025_08_28][1700].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_08_29][1700].png')"><img src="images/[2025_08_29][1700].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_01][1700].png')"><img src="images/[2025_09_01][1700].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_02][1700].png')"><img src="images/[2025_09_02][1700].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_03][1700].png')"><img src="images/[2025_09_03][1700].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_04][1700].png')"><img src="images/[2025_09_04][1700].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_05][1700].png')"><img src="images/[2025_09_05][1700].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_08][1700].png')"><img src="images/[2025_09_08][1700].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_09][1700].png')"><img src="images/[2025_09_09][1700].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_10][1700].png')"><img src="images/[2025_09_10][1700].png" alt="チャート画像" class="chart-thumbnail"></td>
                            </tr>
                            <tr>
                                <td>18:00</td>
                                <td onclick="showModal('images/[2025_08_28][1800].png')"><img src="images/[2025_08_28][1800].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_08_29][1800].png')"><img src="images/[2025_08_29][1800].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_01][1800].png')"><img src="images/[2025_09_01][1800].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_02][1800].png')"><img src="images/[2025_09_02][1800].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_03][1800].png')"><img src="images/[2025_09_03][1800].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_04][1800].png')"><img src="images/[2025_09_04][1800].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_05][1800].png')"><img src="images/[2025_09_05][1800].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_08][1800].png')"><img src="images/[2025_09_08][1800].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_09][1800].png')"><img src="images/[2025_09_09][1800].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_10][1800].png')"><img src="images/[2025_09_10][1800].png" alt="チャート画像" class="chart-thumbnail"></td>
                            </tr>
                            <tr>
                                <td>19:00</td>
                                <td onclick="showModal('images/[2025_08_28][1900].png')"><img src="images/[2025_08_28][1900].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_08_29][1900].png')"><img src="images/[2025_08_29][1900].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_01][1900].png')"><img src="images/[2025_09_01][1900].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_02][1900].png')"><img src="images/[2025_09_02][1900].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_03][1900].png')"><img src="images/[2025_09_03][1900].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_04][1900].png')"><img src="images/[2025_09_04][1900].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_05][1900].png')"><img src="images/[2025_09_05][1900].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_08][1900].png')"><img src="images/[2025_09_08][1900].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_09][1900].png')"><img src="images/[2025_09_09][1900].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_10][1900].png')"><img src="images/[2025_09_10][1900].png" alt="チャート画像" class="chart-thumbnail"></td>
                            </tr>
                            <tr>
                                <td>20:00</td>
                                <td onclick="showModal('images/[2025_08_28][2000].png')"><img src="images/[2025_08_28][2000].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_08_29][2000].png')"><img src="images/[2025_08_29][2000].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_01][2000].png')"><img src="images/[2025_09_01][2000].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_02][2000].png')"><img src="images/[2025_09_02][2000].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_03][2000].png')"><img src="images/[2025_09_03][2000].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_04][2000].png')"><img src="images/[2025_09_04][2000].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_05][2000].png')"><img src="images/[2025_09_05][2000].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_08][2000].png')"><img src="images/[2025_09_08][2000].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_09][2000].png')"><img src="images/[2025_09_09][2000].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_10][2000].png')"><img src="images/[2025_09_10][2000].png" alt="チャート画像" class="chart-thumbnail"></td>
                            </tr>
                            <tr>
                                <td>21:00</td>
                                <td onclick="showModal('images/[2025_08_28][2100].png')"><img src="images/[2025_08_28][2100].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_08_29][2100].png')"><img src="images/[2025_08_29][2100].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_01][2100].png')"><img src="images/[2025_09_01][2100].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_02][2100].png')"><img src="images/[2025_09_02][2100].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_03][2100].png')"><img src="images/[2025_09_03][2100].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_04][2100].png')"><img src="images/[2025_09_04][2100].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_05][2100].png')"><img src="images/[2025_09_05][2100].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_08][2100].png')"><img src="images/[2025_09_08][2100].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_09][2100].png')"><img src="images/[2025_09_09][2100].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_10][2100].png')"><img src="images/[2025_09_10][2100].png" alt="チャート画像" class="chart-thumbnail"></td>
                            </tr>
                            <tr>
                                <td>22:00</td>
                                <td onclick="showModal('images/[2025_08_28][2200].png')"><img src="images/[2025_08_28][2200].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_08_29][2200].png')"><img src="images/[2025_08_29][2200].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_01][2200].png')"><img src="images/[2025_09_01][2200].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_02][2200].png')"><img src="images/[2025_09_02][2200].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_03][2200].png')"><img src="images/[2025_09_03][2200].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_04][2200].png')"><img src="images/[2025_09_04][2200].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_05][2200].png')"><img src="images/[2025_09_05][2200].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_08][2200].png')"><img src="images/[2025_09_08][2200].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_09][2200].png')"><img src="images/[2025_09_09][2200].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_10][2200].png')"><img src="images/[2025_09_10][2200].png" alt="チャート画像" class="chart-thumbnail"></td>
                            </tr>
                            <tr>
                                <td>23:00</td>
                                <td onclick="showModal('images/[2025_08_28][2300].png')"><img src="images/[2025_08_28][2300].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_08_29][2300].png')"><img src="images/[2025_08_29][2300].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_01][2300].png')"><img src="images/[2025_09_01][2300].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_02][2300].png')"><img src="images/[2025_09_02][2300].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_03][2300].png')"><img src="images/[2025_09_03][2300].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_04][2300].png')"><img src="images/[2025_09_04][2300].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_05][2300].png')"><img src="images/[2025_09_05][2300].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_08][2300].png')"><img src="images/[2025_09_08][2300].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_09][2300].png')"><img src="images/[2025_09_09][2300].png" alt="チャート画像" class="chart-thumbnail"></td>
                                <td onclick="showModal('images/[2025_09_10][2300].png')"><img src="images/[2025_09_10][2300].png" alt="チャート画像" class="chart-thumbnail"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>
    </div>

    <div id="imageModal" class="modal">
        <span class="close" onclick="closeModal()">&times;</span>
        <img class="modal-content" id="modalImage">
    </div>

    <footer class="footer">
        <div class="footer-links">
            <a href="#" onclick="showPage('results')">検証結果</a>
            <a href="#" onclick="showPage('company')">運営会社</a>
            <a href="#" onclick="showPage('disclaimer')">免責事項</a>
        </div>
        <p>&copy; 2025 Increase FX. Counter trade analysis made accessible to everyone.</p>
    </footer>

    <script>

    // Global variables for forex data
    let forexData = null;
    let processedTableData = [];
    let refreshTimer;
    let currentDataSource = '28pair'; // Track current data source

    // Page switching functionality
    function showPage(pageId) {
        document.querySelectorAll('.page').forEach(page => {
            page.classList.remove('active');
        });
        document.getElementById(pageId).classList.add('active');
        window.scrollTo(0, 0);
    }

    // Switch between 10 and 28 pair views
    function switchPairView(pairType) {
        // Update button states
        document.querySelectorAll('.pair-toggle-btn').forEach(btn => {
            btn.classList.remove('active');
        });
        document.getElementById(`btn-${pairType}`).classList.add('active');
        
        // Update current data source
        currentDataSource = pairType;
        
        // Load appropriate data
        loadForexData();
    }

    // Scroll indicator
    window.addEventListener('scroll', () => {
        const scrolled = (window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100;
        document.querySelector('.scroll-indicator').style.transform = `scaleX(${scrolled / 100})`;
    });

    // Load JSON data function
    async function loadForexData() {
        try {
            showLoading(true);
            
            // Determine which JSON file to load based on current view
            const fileName = `fx_signals_${currentDataSource}.json`;
            const response = await fetch(`./${fileName}?` + new Date().getTime());
            
            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }
            
            const data = await response.json();
            forexData = data.forexData;
            
            // Process and display the data
            processedTableData = processForexData(forexData);
            populateTable();
            generateSummary();
            showLoading(false);
            
            console.log(`Forex data loaded successfully from ${fileName}`);
            
        } catch (error) {
            console.error('Error loading forex data:', error);
            
            // Fallback to static data if JSON loading fails
            console.log('Loading fallback static data...');
            loadFallbackData();
        }
    }

    // Fallback to static data
    function loadFallbackData() {
        // Define 10 major pairs
        const majorPairs = ['USDJPY', 'EURUSD', 'GBPUSD', 'AUDUSD', 'EURJPY', 'GBPJPY', 'AUDJPY', 'EURGBP', 'EURAUD', 'GBPAUD'];
        
        const allFallbackData = [
            ['USDJPY', '1/7', '2/7', '1/8', '75', '1/7', '55%', 'Buy'],
            ['EURJPY', '4/7', '6/7', '4/8', '63', '4/7', '48%', 'Sell'],
            ['GBPJPY', '8/7', '8/7', '7/8', '49', '8/7', '34%', 'Buy'],
            ['AUDJPY', '3/7', '1/7', '3/8', '65', '2/7', '48%', 'Sell'],
            ['NZDJPY', '6/7', '4/7', '6/8', '59', '6/7', '46%', 'Buy'],
            ['CADJPY', '2/7', '3/7', '2/8', '66', '3/7', '72%', 'Sell'],
            ['CHFJPY', '5/7', '5/7', '5/8', '60', '5/7', '39%', 'Buy'],
            ['EURUSD', '4/1', '6/2', '4/1', '20', '4/1', '39%', 'Sell'],
            ['AUDUSD', '3/1', '1/2', '3/1', '47', '2/1', '54%', 'Buy'],
            ['GBPUSD', '8/1', '8/2', '7/1', '35', '8/1', '67%', 'Sell'],
            ['NZDUSD', '6/1', '4/2', '6/1', '43', '6/1', '47%', 'Buy'],
            ['USDCHF', '1/5', '2/5', '1/5', '58', '1/5', '36%', 'Sell'],
            ['USDCAD', '1/2', '2/3', '1/2', '56', '1/3', '36%', 'Buy'],
            ['EURGBP', '4/8', '6/8', '4/7', '65', '4/8', '39%', 'Sell'],
            ['EURAUD', '4/3', '6/1', '4/3', '47', '4/2', '34%', 'Buy'],
            ['EURCAD', '4/2', '6/3', '4/2', '44', '4/3', '39%', 'Sell'],
            ['EURCHF', '4/5', '6/5', '4/5', '51', '4/5', '36%', 'Buy'],
            ['EURNZD', '4/6', '6/4', '4/6', '54', '4/6', '31%', 'Sell'],
            ['GBPAUD', '8/3', '8/1', '7/3', '36', '8/2', '58%', 'Buy'],
            ['GBPCHF', '8/5', '8/5', '7/5', '42', '8/5', '39%', 'Sell'],
            ['GBPCAD', '8/2', '8/3', '7/2', '33', '8/3', '57%', 'Buy'],
            ['GBPNZD', '8/6', '8/4', '7/6', '42', '8/6', '39%', 'Sell'],
            ['AUDCAD', '3/2', '1/3', '3/2', '49', '2/3', '34%', 'Buy'],
            ['AUDCHF', '3/5', '1/5', '3/5', '53', '2/5', '31%', 'Sell'],
            ['AUDNZD', '3/6', '1/4', '3/6', '61', '2/6', '42%', 'Buy'],
            ['CADCHF', '2/5', '3/5', '2/5', '55', '3/5', '36%', 'Sell'],
            ['NZDCAD', '6/2', '4/3', '6/2', '43', '6/3', '42%', 'Buy'],
            ['NZDCHF', '6/5', '4/5', '6/5', '49', '6/5', '34%', 'Sell']
        ];

        // Filter data based on current view
        let fallbackData;
        if (currentDataSource === '10pair') {
            fallbackData = allFallbackData.filter(row => majorPairs.includes(row[0]));
        } else {
            fallbackData = allFallbackData;
        }

        processedTableData = fallbackData.map(row => ({
            pair: row[0],
            currencyStrength: row[1],
            cciStrength: row[2],
            bbPercent: row[3],
            rsiBreakout: parseInt(row[4]),
            overallRanking: row[5],
            confidence: parseInt(row[6].replace('%', '')),
            signal: row[7] || getEntrySignalFromRanking(row[5]),
            trigger: 'OFF', // Default fallback value
            triggerReason: 'NONE' // Default fallback value
        }));

        populateTable();
        generateSummary();
        showLoading(false);
        console.log(`Fallback static data loaded successfully for ${currentDataSource}`);
    }

    // Show/hide loading indicator
    function showLoading(show) {
        const loadingIndicator = document.getElementById('loadingIndicator');
        const tableContainer = document.getElementById('tableContainer');
        const errorIndicator = document.getElementById('errorIndicator');
        
        if (show) {
            loadingIndicator.style.display = 'block';
            tableContainer.style.display = 'none';
            errorIndicator.style.display = 'none';
        } else {
            loadingIndicator.style.display = 'none';
            tableContainer.style.display = 'block';
        }
    }

    function processForexData(data) {
        const processed = [];
        
        for (const [pairName, pairData] of Object.entries(data)) {
            processed.push({
                pair: pairName,
                currencyStrength: pairData.Currency_Strength_Rank_all_pair,
                cciStrength: pairData.CCI_Currency_Strength_Rank_all_pair,
                bbPercent: pairData.BB_percent_ranking,
                rsiBreakout: pairData.RSI_breakout,
                overallRanking: pairData.Overall_Ranking,
                confidence: pairData.Confidence,
                signal: pairData.Signal || getEntrySignalFromRanking(pairData.Overall_Ranking),
                trigger: pairData.TRIGGER || 'OFF',
                triggerReason: pairData.TRIGGER_REASON || 'NONE'
            });
        }
        
        return processed;
    }

    // Generate summary section
    function generateSummary() {
        const now = new Date();
        const hour = now.toLocaleTimeString('en-GB', { hour: '2-digit', hour12: false });
        const lastUpdatedTime = `${hour}:00`;

        const summaryTitle = document.getElementById('summaryTitle');
        const summaryPair = document.getElementById('summaryPair');
        const summaryEntry = document.getElementById('summaryEntry');
        const summaryTime = document.getElementById('summaryTime');
        
        // Find top confidence pair
        const topPair = processedTableData.slice().sort((a, b) => b.confidence - a.confidence)[0];

        if (topPair) {
            const entrySignal = topPair.signal;
            
            summaryTitle.textContent = `${lastUpdatedTime}の最有力分析結果（仮説）`;
            summaryPair.textContent = topPair.pair;
            summaryEntry.textContent = entrySignal === 'Buy' ? '上方向傾向' : 
                                    entrySignal === 'Sell' ? '下方向傾向' : '中立傾向';
            summaryEntry.className = `summary-entry ${entrySignal === 'Buy' ? 'up' : entrySignal === 'Sell' ? 'down' : 'neutral'}`;
            summaryTime.textContent = `最終更新: ${lastUpdatedTime} | 期待度: ${topPair.confidence}%`;
        }
    }
    function populateTable() {
        const tbody = document.getElementById('dataTable');
        tbody.innerHTML = ''; // Clear existing data
        
        const top3Confidence = getTop3ConfidenceWithMedals();
        const top3ConfidenceValues = Object.keys(top3Confidence).map(k => parseInt(k));
        
        // Sort by confidence descending
        // Sort by signal priority first (Buy/Sell before Hold), then by confidence descending, then by signal type
        const sortedData = processedTableData.slice().sort((a, b) => {
            // Define signal priority (lower number = higher priority)
            const getSignalPriority = (signal) => {
                if (signal === 'Buy' || signal === 'Sell') return 1;  // 上方向傾向 and 下方向傾向
                return 2;  // 中立傾向 (Hold/Stay)
            };
            
            // Define signal type priority for tie-breaking (when confidence is same)
            const getSignalTypePriority = (signal) => {
                if (signal === 'Sell') return 1;  // 下方向傾向 first
                if (signal === 'Buy') return 2;   // 上方向傾向 second
                return 3;  // 中立傾向 last
            };
            
            const priorityA = getSignalPriority(a.signal);
            const priorityB = getSignalPriority(b.signal);
            
            // First sort by signal priority (Buy/Sell vs Hold)
            if (priorityA !== priorityB) {
                return priorityA - priorityB;
            }
            
            // If same priority, sort by confidence descending
            if (a.confidence !== b.confidence) {
                return b.confidence - a.confidence;
            }
            
            // If same confidence, sort by signal type (Sell before Buy)
            return getSignalTypePriority(a.signal) - getSignalTypePriority(b.signal);
        });

        sortedData.forEach(row => {
            const tr = document.createElement('tr');
            const entrySignal = getDirectionFromSignal(row.signal);
            const isTop3 = top3ConfidenceValues.includes(row.confidence);
            
            // Only show medal and highlighting if signal is NOT "中立傾向" (Stay)
            const isStaySignal = entrySignal === '中立傾向';
            const shouldShowMedal = (isTop3 && !isStaySignal);
            const medal = shouldShowMedal ? (top3Confidence[row.confidence.toString()] || '') : '';
            
            // Determine entry class based on signal type
            let entryClass = 'entry-normal';
            if (entrySignal === '上方向傾向') {
                entryClass = 'entry-buy';
            } else if (entrySignal === '下方向傾向') {
                entryClass = 'entry-sell';
            } else if (entrySignal === '中立傾向') {
                entryClass = 'entry-stay';
            }
            
            // Confidence styling: normal for Stay signals, highlighted for Buy/Sell
            const confidenceClass = (isTop3 && !isStaySignal) ? 'highlight-top3' : '';
            
            tr.innerHTML = `
                <td class="pair-name">${row.pair}</td>
                <td class="${isExtremeRSI(row.rsiBreakout) ? 'highlight-rsi-extreme' : ''}">${row.rsiBreakout}</td>
                <td class="${isExtremeRanking(row.currencyStrength) ? 'highlight-extreme-ranking' : ''}">${row.currencyStrength}</td>
                <td class="${isExtremeRanking(row.cciStrength) ? 'highlight-extreme-ranking' : ''}">${row.cciStrength}</td>
                <td class="${isExtremeRanking(row.bbPercent) ? 'highlight-extreme-ranking' : ''}">${row.bbPercent}</td>
                <td class="${isExtremeRanking(row.overallRanking) ? 'highlight-extreme-ranking' : ''}">${row.overallRanking}</td>
                <td class="${confidenceClass}">${medal}${row.confidence}%</td>
                <td><span class="${entryClass}">${entrySignal}</span></td>
                <td><span class="${getTriggerClass(row.trigger)}">${formatTriggerDisplay(row.trigger, row.triggerReason)}</span></td>
            `;
            tbody.appendChild(tr);
        });
    }

    // Add this helper function for trigger styling
    function getTriggerClass(trigger) {
        if (trigger === 'ON') return 'trigger-on';
        return 'trigger-off';
    }

    function getTriggerReasonText(reasonCode) {
        const reasonMap = {
            'T_1': 'EMA戻り',
            'T_2': 'RSI極値', 
            'T_3': 'RSI戻り',
            'NONE': 'なし',
            'None': 'なし'
        };
        return reasonMap[reasonCode] || reasonCode;
    }

    function formatTriggerDisplay(trigger, reasonCode) {
        if (trigger === 'OFF') {
            return 'OFF';
        } else if (trigger === 'ON') {
            return `ON | ${getTriggerReasonText(reasonCode)}`;
        }
        return trigger;
    }
    
    // Convert Buy/Sell signal to Japanese direction
    function getDirectionFromSignal(signal) {
        if (signal === 'Buy') return '上方向傾向';
        if (signal === 'Sell') return '下方向傾向';
        return '中立傾向';
    }

    // Get entry signal from ranking (fallback)
    function getEntrySignalFromRanking(ranking) {
        const parts = ranking.split('/');
        const leftNumber = parseInt(parts[0]);
        const rightNumber = parseInt(parts[1]);
        if (leftNumber > rightNumber) return 'Buy';
        if (leftNumber < rightNumber) return 'Sell';
        return 'Hold';
    }

    // Check if ranking is extreme based on current data source
    function isExtremeRanking(value) {
        if (currentDataSource === '28pair') {
            return value === '1/8' || value === '8/1';
        } else if (currentDataSource === '10pair') {
            return value === '1/5' || value === '5/1';
        }
        return false;
    }

    // Check if RSI is extreme (>70 or <30)
    function isExtremeRSI(value) {
        return value >= 70 || value <= 30;
    }

    // Get top 3 confidence values with medals
    function getTop3ConfidenceWithMedals() {
        const confidenceValues = processedTableData
            .map(item => item.confidence)
            .sort((a, b) => b - a)
            .slice(0, 3);
        
        const medals = ['🥇', '🥈', '🥉'];
        const result = {};
        
        confidenceValues.forEach((confidence, index) => {
            result[confidence.toString()] = medals[index] || '';
        });
        
        return result;
    }

    // Refresh data function
    function refreshData() {
        console.log('Refreshing forex data...');
        loadForexData();
    }

    // Auto-refresh at specific times
    function startAutoRefreshAt05(runNow = false) {
        if (runNow) refreshData();

        function scheduleNext() {
            const now = new Date();
            const next = new Date(now);

            // Set to next :05 mark
            next.setHours(now.getMinutes() < 5 ? now.getHours() : now.getHours() + 1);
            next.setMinutes(5, 0, 0);

            const delay = next - now;

            refreshTimer = setTimeout(() => {
                refreshData();
                scheduleNext();
            }, delay);
        }

        scheduleNext();
        console.log('Auto-refresh scheduled at every HH:05');
    }

    // File update checker
    async function checkForUpdates() {
        try {
            const fileName = `fx_signals_${currentDataSource}.json`;
            const response = await fetch(`./${fileName}?` + new Date().getTime());
            if (response.ok) {
                const data = await response.json();
                const newDataString = JSON.stringify(data);
                const currentDataString = JSON.stringify({forexData});
                
                if (newDataString !== currentDataString) {
                    console.log(`${fileName} updated, refreshing data...`);
                    loadForexData();
                }
            }
        } catch (error) {
            console.log('Update check failed:', error.message);
        }
    }

    function startUpdateChecker() {
        setInterval(checkForUpdates, 300000); // 5 minutes
        console.log('Update checker started (every 5 minutes)');
    }

    // Initialize everything when DOM is loaded
    document.addEventListener('DOMContentLoaded', () => {
        console.log('Initializing FX Analysis Tool...');
        
        // Load default data (28pair)
        loadForexData();
        startAutoRefreshAt05();
        startUpdateChecker();
    });
    
    // Alert box style modal functionality for chart images
    function showModal(imageSrc) {
        // Remove existing modal if present
        const existingModal = document.getElementById('alertModal');
        if (existingModal) {
            existingModal.remove();
        }
        
        // Create modal container
        const modal = document.createElement('div');
        modal.id = 'alertModal';
        modal.style.cssText = `
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 10000;
            display: flex;
            justify-content: center;
            align-items: center;
            animation: fadeIn 0.3s ease;
        `;
        
        // Create alert box container
        const alertBox = document.createElement('div');
        alertBox.style.cssText = `
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
            max-width: 90vw;
            max-height: 90vh;
            position: relative;
            animation: slideIn 0.3s ease;
            overflow: hidden;
        `;
        
        // Create header with close button
        const header = document.createElement('div');
        header.style.cssText = `
            background: #f8f9fa;
            padding: 15px 20px;
            border-bottom: 1px solid #e9ecef;
            display: flex;
            justify-content: space-between;
            align-items: center;
        `;
        
        const title = document.createElement('h3');
        title.textContent = 'チャート画像';
        title.style.cssText = `
            margin: 0;
            font-size: 1.1rem;
            color: #333;
            font-weight: 600;
        `;
        
        const closeButton = document.createElement('button');
        closeButton.innerHTML = '×';
        closeButton.style.cssText = `
            background: none;
            border: none;
            font-size: 24px;
            color: #666;
            cursor: pointer;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.2s ease;
        `;
        
        closeButton.onmouseover = () => {
            closeButton.style.backgroundColor = '#e9ecef';
            closeButton.style.color = '#000';
        };
        
        closeButton.onmouseout = () => {
            closeButton.style.backgroundColor = 'transparent';
            closeButton.style.color = '#666';
        };
        
        closeButton.onclick = closeModal;
        
        header.appendChild(title);
        header.appendChild(closeButton);
        
        // Create image container
        const imageContainer = document.createElement('div');
        imageContainer.style.cssText = `
            padding: 20px;
            text-align: center;
            background: white;
        `;
        
        // Create image element
        const img = document.createElement('img');
        img.src = imageSrc;
        img.alt = 'チャート画像';
        img.style.cssText = `
            max-width: 100%;
            max-height: 70vh;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        `;
        
        // Handle image load error
        img.onerror = () => {
            img.style.display = 'none';
            const errorMsg = document.createElement('div');
            errorMsg.textContent = '画像を読み込めませんでした';
            errorMsg.style.cssText = `
                color: #dc3545;
                padding: 40px;
                font-size: 1.1rem;
            `;
            imageContainer.appendChild(errorMsg);
        };
        
        imageContainer.appendChild(img);
        
        // Assemble the alert box
        alertBox.appendChild(header);
        alertBox.appendChild(imageContainer);
        modal.appendChild(alertBox);
        
        // Add to document
        document.body.appendChild(modal);
        
        // Close modal when clicking outside the alert box
        modal.onclick = function(event) {
            if (event.target === modal) {
                closeModal();
            }
        };
        
        // Add CSS keyframes for animations
        if (!document.getElementById('modalAnimations')) {
            const style = document.createElement('style');
            style.id = 'modalAnimations';
            style.textContent = `
                @keyframes fadeIn {
                    from { opacity: 0; }
                    to { opacity: 1; }
                }
                @keyframes slideIn {
                    from { 
                        opacity: 0;
                        transform: translateY(-20px) scale(0.95);
                    }
                    to { 
                        opacity: 1;
                        transform: translateY(0) scale(1);
                    }
                }
            `;
            document.head.appendChild(style);
        }
    }

    function closeModal() {
        const modal = document.getElementById('alertModal');
        if (modal) {
            modal.style.animation = 'fadeOut 0.2s ease';
            setTimeout(() => {
                modal.remove();
            }, 200);
        }
    }

    // Close modal with Escape key
    document.addEventListener('keydown', function(event) {
        if (event.key === 'Escape') {
            closeModal();
        }
    });

    // Add fadeOut animation
    const existingStyle = document.getElementById('modalAnimations');
    if (existingStyle) {
        existingStyle.textContent += `
            @keyframes fadeOut {
                from { opacity: 1; }
                to { opacity: 0; }
            }
        `;
    }
    // Export functions for external use
    window.ForexDataManager = {
        refresh: refreshData,
        getData: () => processedTableData,
        getRawData: () => forexData,
        loadFromFile: loadForexData,
        switchView: switchPairView,
        getCurrentView: () => currentDataSource
    };
    </script>
</body>
</html>